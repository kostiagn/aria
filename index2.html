<html>

<head>
    <script src="jquery.min.js"></script>
    <script src="colorsys.js"></script>
    <script src="sub2r.js"></script>
    <script src="curve.js"></script>
    <script src="main.js"></script>

    <link href="main.css" rel="stylesheet" media="all" type="text/css">
</head>

<body>
    <button id="open-camera">SUB2r USB3 HD Camera</button>
    <div id="app" class="hide">
        <div id="top-panel" class="panel">

            <button id="calc-bizier-points">do it</button>
            
            
        </div>
        <div id="bottom-panel" class="panel">
            <div id="tabs-panel">

            </div>
            <div id="tabs-content">
                <div>
                    <svg id="curves" class="hide">
                        <defs>
                            <pattern id="p-net" width="1.5625%" height="5%">
                                <rect width="1.6667%" height="5%" fill-opacity="0" stroke="#000000"
                                    stroke-width="0.1" />

                            </pattern>
                        </defs>

                        <image data-type="background" />
                        <svg viewBox="0 0 640 200" data-type="net">

                            <rect width="100%" height="100%" fill="url(#p-net)" />
                            <path fill="none" stroke="yellow" d="M80,0 V200 
                              M160,0 V200
                              M240,0 V200
                              M320,0 V200
                              M400,0 V200
                              M480,0 V200
                              M560,0 V200
                              M640,0 V200
                              M0,100 L640,100">
                            </path>
                        </svg>
                        <g id="g-paths"></g>
                        <g id="g-missed-sliders"></g>
                        <g id="g-points"></g>
                    </svg>
                </div>
                <div
                    style="display:grid;grid-template-columns: auto auto;grid-auto-rows: max-content;grid-gap: 5px 5px;margin: 6;">
                    <div style="text-align: end;">slider:</div>
                    <div id="slider-number">000</div>
                    <div style="text-align: end;">hue:</div>
                    <div id="slider-value">000</div>
                    <div style="text-align: end;">dev:</div>
                    <input id="dev-value" type="number" style="width: 60px;">
                    <div style="text-align: end;"></div>
                    <div id="dev-under-mouse-value">000</div>
                    <button id="neutral-color-grading" style="grid-column: 1 / span 2;">Neutral</button>
                    <div id="hvh-colors"
                        style="grid-column: 1 / span 2;width: 80px;height: 80px;display: grid;grid-template-columns: 1fr 1fr;">
                        <div style="background-color: red;"></div>
                        <div style="background-color: blue;"></div>
                    </div>
                    <button id="default-color-grading" style="grid-column: 1 / span 2;">default</button>
                    
                </div>
                <div style="display:grid;grid-template-columns: auto;grid-auto-rows: max-content;grid-gap: 5px 5px;margin: 6;">
                    <button id="reload-values" >reload</button>
                    <button id="convert-to-curve" >to curve</button>
                    <button id="convert-to-sliders" >to sliders</button>
                    <div><input id="show-missed-sliders" type="checkbox">show missed sliders</div>
                </div>

            </div>

        </div>
    </div>

    <script>
        document.getElementById('open-camera').addEventListener('click', async () =>  {
            document.getElementById('open-camera').classList.add('hide');
            document.getElementById('app').classList.remove('hide');
            await sub2r.openCamera();
            ColorGradingTabs(false);

        })
    </script>
    
</body>


</html>